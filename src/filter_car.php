<div class="function-div">
    <div class="flex-function" onclick="functionClick(this)">
        <div class="fn-sp">
            <img src="../assets/images/fn1.svg" alt="">
            <p style="color: #31406f;">HÃNG XE, DÒNG XE</p>
        </div>
        <i class='bx bx-chevron-down' style="color: #3f4047;"></i>
    </div>
    <div class="function-nav">
        <div class="function-search" tabindex="0">
            <div class="fn-box">
                <i class='bx bx-search'></i>
                <input type="text" placeholder="Tìm kiếm theo hãng xe">
            </div>
        </div>
        <div class="function-box">
            <ul>
                <li>
                    <input type="checkbox" name="Toyota" id="Toyota" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">Toyota</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Camry" id="Camry" onchange="sortSelectedMakes()">
                            <p>Camry</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Corolla" id="Corolla" onchange="sortSelectedMakes()">
                            <p>Corolla</p>
                        </li>
                        <li>
                            <input type="checkbox" name="RAV4" id="RAV4" onchange="sortSelectedMakes()">
                            <p>RAV4</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Highlander" id="Highlander" onchange="sortSelectedMakes()">
                            <p>Highlander</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Tacoma" id="Tacoma" onchange="sortSelectedMakes()">
                            <p>Tacoma</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Prius" id="Prius" onchange="sortSelectedMakes()">
                            <p>Prius</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Sienna" id="Sienna" onchange="sortSelectedMakes()">
                            <p>Sienna</p>
                        </li>
                        <li>
                            <input type="checkbox" name="4Runner" id="4Runner" onchange="sortSelectedMakes()">
                            <p>4Runner</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Honda" id="Honda" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">Honda</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Civic" id="Civic" onchange="sortSelectedMakes()">
                            <p>Civic</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Accord" id="Accord" onchange="sortSelectedMakes()">
                            <p>Accord</p>
                        </li>
                        <li>
                            <input type="checkbox" name="CR-V" id="CR-V" onchange="sortSelectedMakes()">
                            <p>CR-V</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Pilot" id="Pilot" onchange="sortSelectedMakes()">
                            <p>Pilot</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Odyssey" id="Odyssey" onchange="sortSelectedMakes()">
                            <p>Odyssey</p>
                        </li>
                        <li>
                            <input type="checkbox" name="HR-V" id="HR-V" onchange="sortSelectedMakes()">
                            <p>HR-V</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Fit" id="Fit" onchange="sortSelectedMakes()">
                            <p>Fit</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Ridgeline" id="Ridgeline" onchange="sortSelectedMakes()">
                            <p>Ridgeline</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Mercedes-Benz" id="Mercedes-Benz" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">Mercedes-Benz</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="C-Class" id="C-Class" onchange="sortSelectedMakes()">
                            <p>C-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="E-Class" id="E-Class" onchange="sortSelectedMakes()">
                            <p>E-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="S-Class" id="S-Class" onchange="sortSelectedMakes()">
                            <p>S-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="GLC-Class" id="GLC-Class" onchange="sortSelectedMakes()">
                            <p>GLC-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="GLE-Class" id="GLE-Class" onchange="sortSelectedMakes()">
                            <p>GLE-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="GLS-Class" id="GLS-Class" onchange="sortSelectedMakes()">
                            <p>GLS-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="A-Class" id="A-Class" onchange="sortSelectedMakes()">
                            <p>A-Class</p>
                        </li>
                        <li>
                            <input type="checkbox" name="CLA-Class" id="CLA-Class" onchange="sortSelectedMakes()">
                            <p>CLA-Class</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Ford" id="Ford" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">Ford</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="F-150" id="F-150" onchange="sortSelectedMakes()">
                            <p>F-150</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Escape" id="Escape" onchange="sortSelectedMakes()">
                            <p>Escape</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Explorer" id="Explorer" onchange="sortSelectedMakes()">
                            <p>Explorer</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Fusion" id="Fusion" onchange="sortSelectedMakes()">
                            <p>Fusion</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mustang" id="Mustang" onchange="sortSelectedMakes()">
                            <p>Mustang</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Edge" id="Edge" onchange="sortSelectedMakes()">
                            <p>Edge</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Ranger" id="Ranger" onchange="sortSelectedMakes()">
                            <p>Ranger</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Expedition" id="Expedition" onchange="sortSelectedMakes()">
                            <p>Expedition</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="BMW" id="BMW" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">BMW</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="3_Series" id="3 Series" onchange="sortSelectedMakes()">
                            <p>3 Series</p>
                        </li>
                        <li>
                            <input type="checkbox" name="5_Series" id="5 Series" onchange="sortSelectedMakes()">
                            <p>5 Series</p>
                        </li>
                        <li>
                            <input type="checkbox" name="7_Series" id="7 Series" onchange="sortSelectedMakes()">
                            <p>7 Series</p>
                        </li>
                        <li>
                            <input type="checkbox" name="X3" id="X3" onchange="sortSelectedMakes()">
                            <p>X3</p>
                        </li>
                        <li>
                            <input type="checkbox" name="X5" id="X5" onchange="sortSelectedMakes()">
                            <p>X5</p>
                        </li>
                        <li>
                            <input type="checkbox" name="X7" id="X7" onchange="sortSelectedMakes()">
                            <p>X7</p>
                        </li>
                        <li>
                            <input type="checkbox" name="4 Series" id="4 Series" onchange="sortSelectedMakes()">
                            <p>4 Series</p>
                        </li>
                        <li>
                            <input type="checkbox" name="2 Series" id="2 Series" onchange="sortSelectedMakes()">
                            <p>2 Series</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Chevrolet" id="Chevrolet" value=""onchange="sortSelectedMakes()">
                    <p class="location-make">Chevrolet</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Silverado" id="Silverado" onchange="sortSelectedMakes()">
                            <p>Silverado</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Equinox" id="Equinox" onchange="sortSelectedMakes()">
                            <p>Equinox</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Traverse" id="Traverse" onchange="sortSelectedMakes()">
                            <p>Traverse</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Malibu" id="Malibu" onchange="sortSelectedMakes()">
                            <p>Malibu</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Tahoe" id="Tahoe" onchange="sortSelectedMakes()">
                            <p>Tahoe</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Camaro" id="Camaro" onchange="sortSelectedMakes()">
                            <p>Camaro</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Suburban" id="Suburban" onchange="sortSelectedMakes()">
                            <p>Suburban</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Colorado" id="Colorado" onchange="sortSelectedMakes()">
                            <p>Colorado</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Hyundai" id="Hyundai" value=""onchange="sortSelectedMakes()">
                    <p class="location-make">Hyundai</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Hyundai_Elantra" id="Hyundai_Elantra" onchange="sortSelectedMakes()">
                            <p>Elantra</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Sonata" id="Hyundai_Sonata" onchange="sortSelectedMakes()">
                            <p>Sonata</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_SantaFe" id="Hyundai_SantaFe" onchange="sortSelectedMakes()">
                            <p>Santa Fe</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Tucson" id="Hyundai_Tucson" onchange="sortSelectedMakes()">
                            <p>Tucson</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Kona" id="Hyundai_Kona" onchange="sortSelectedMakes()">
                            <p>Kona</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Palisade" id="Hyundai_Palisade" onchange="sortSelectedMakes()">
                            <p>Palisade</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Venue" id="Hyundai_Venue" onchange="sortSelectedMakes()">
                            <p>Venue</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Hyundai_Accent" id="Hyundai_Accent" onchange="sortSelectedMakes()">
                            <p>Accent</p>
                        </li>
                    </ul>
                </div>
            </ul>

            <ul>
                <li>
                    <input type="checkbox" name="Kia" id="Kia" value=""onchange="sortSelectedMakes()">
                    <p class="location-make">Kia</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Kia_Optima" id="Kia_Optima" onchange="sortSelectedMakes()">
                            <p>Optima</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Sorento" id="Kia_Sorento" onchange="sortSelectedMakes()">
                            <p>Sorento</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Sportage" id="Kia_Sportage" onchange="sortSelectedMakes()">
                            <p>Sportage</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Forte" id="Kia_Forte" onchange="sortSelectedMakes()">
                            <p>Forte</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Soul" id="Kia_Soul" onchange="sortSelectedMakes()">
                            <p>Soul</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Telluride" id="Kia_Telluride" onchange="sortSelectedMakes()">
                            <p>Telluride</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Rio" id="Kia_Rio" onchange="sortSelectedMakes()">
                            <p>Rio</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Kia_Stinger" id="Kia_Stinger" onchange="sortSelectedMakes()">
                            <p>Stinger</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="Mazda" id="Mazda" value=""onchange="sortSelectedMakes()">
                    <p class="location-make">Mazda</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="Mazda_Mazda3" id="Mazda_Mazda3" onchange="sortSelectedMakes()">
                            <p>Mazda3</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_Mazda6" id="Mazda_Mazda6" onchange="sortSelectedMakes()">
                            <p>Mazda6</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_CX5" id="Mazda_CX5" onchange="sortSelectedMakes()">
                            <p>CX-5</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_CX9" id="Mazda_CX9" onchange="sortSelectedMakes()">
                            <p>CX-9</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_MX5Miata" id="Mazda_MX5Miata" onchange="sortSelectedMakes()">
                            <p>MX-5 Miata</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_CX30" id="Mazda_CX30" onchange="sortSelectedMakes()">
                            <p>CX-30</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_CX3" id="Mazda_CX3" onchange="sortSelectedMakes()">
                            <p>CX-3</p>
                        </li>
                        <li>
                            <input type="checkbox" name="Mazda_Mazda5" id="Mazda_Mazda5" onchange="sortSelectedMakes()">
                            <p>Mazda5</p>
                        </li>
                    </ul>
                </div>
            </ul>
            <ul>
                <li>
                    <input type="checkbox" name="VinFast" id="VinFast" value="" onchange="sortSelectedMakes()">
                    <p class="location-make">VinFast</p>
                    <i class='bx bx-chevron-down' style="color: #3f4047; cursor: pointer; font-size: 22px;" onclick="functionClick1(this)"></i>
                </li>
                <div class="function-box1">
                    <ul>
                        <li>
                            <input type="checkbox" name="VinFast_LuxA2.0" id="VinFast_LuxA2.0" onchange="sortSelectedMakes()">
                            <p>Lux A2.0</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_LuxSA2.0" id="VinFast_LuxSA2.0" onchange="sortSelectedMakes()">
                            <p>Lux SA2.0</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_Fadil" id="VinFast_Fadil" onchange="sortSelectedMakes()">
                            <p>Fadil</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_President" id="VinFast_President" onchange="sortSelectedMakes()">
                            <p>President</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_LUXV8" id="VinFast_LUXV8" onchange="sortSelectedMakes()">
                            <p>LUX V8</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_LUXAS2.0" id="VinFast_LUXAS2.0" onchange="sortSelectedMakes()">
                            <p>LUX AS2.0</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_LUXSA2.0" id="VinFast_LUXSA2.0" onchange="sortSelectedMakes()">
                            <p>LUX SA2.0</p>
                        </li>
                        <li>
                            <input type="checkbox" name="VinFast_LUXA2.0Sedan" id="VinFast_LUXA2.0Sedan" onchange="sortSelectedMakes()">
                            <p>LUX A2.0 Sedan</p>
                        </li>
                    </ul>
                </div>
            </ul>
        </div>
    </div>
</div>
<script>
    // Function to handle checkbox selection and update URL
    function sortSelectedMakes() {
        var selectedMakes = [];
        var checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
        checkboxes.forEach(function(checkbox) {
            selectedMakes.push(checkbox.name);
        });
        var selectedMakesString = selectedMakes.join(",");
        // Check if selectedMakesString is empty
        if(selectedMakesString === "") {
            window.location.href = "index.php"; // Redirect to all_cars.php if no make is selected
        } else {
            window.location.href = "index.php?select=" + selectedMakesString; // Redirect to index.php with selected makes
        }
    }
    function retainSelections() {
        var urlParams = new URLSearchParams(window.location.search);
        var selectedMakes = urlParams.get('select');
        if (selectedMakes) {
            selectedMakes.split(',').forEach(function(make) {
                var checkbox = document.getElementById(make);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });
        }
    }
    window.onload = retainSelections;
</script>